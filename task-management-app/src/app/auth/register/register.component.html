<div class="min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-indigo-50 via-white to-purple-50">
  <div class="relative w-full max-w-md">
    <!-- Main Card -->
    <div class="bg-white/90 backdrop-blur-md rounded-3xl p-8 shadow-2xl border border-gray-200/50">
      
      <!-- Header -->
      <div class="text-center mb-8">
        <div class="w-16 h-16 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-4">
          <i class="fas fa-user-plus text-white text-2xl"></i>
        </div>
        <h1 class="text-3xl font-bold text-gray-900 mb-2">Create Account</h1>
        <p class="text-gray-600">Sign up to get started</p>
      </div>

     <!-- SUCCESS Message -->
<div *ngIf="successMessage() && !error()" class="bg-green-50 border border-green-200 text-green-700 p-4 rounded-xl mb-6 flex flex-col items-center">
  <div class="flex items-center mb-4">
    <i class="fas fa-check-circle mr-3 text-green-500 text-xl"></i>
    <p class="text-sm">{{ successMessage() }}</p>
  </div>
  <button
    (click)="router.navigate(['/login'])"
    class="bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded transition"
  >
    Go to Login
  </button>
</div>


      <!-- ERROR Message -->
      <div *ngIf="error()" class="bg-red-50 border border-red-200 text-red-700 p-4 rounded-xl mb-6 flex items-start">
        <i class="fas fa-exclamation-circle mt-0.5 mr-3 flex-shrink-0 text-red-500"></i>
        <p class="text-sm">{{ error() }}</p>
      </div>

      <!-- Register Form -->
      <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="space-y-6" *ngIf="!successMessage()">
        <!-- Email Field -->
        <div>
          <label for="email" class="block text-sm font-medium text-gray-700 mb-2">Email Address</label>
          <div class="relative">
            <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
              <i class="fas fa-envelope text-gray-400"></i>
            </div>
            <input id="email" type="email" formControlName="email" name="email"
                   class="input-field pl-12 w-full border rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-indigo-500"
                   placeholder="you@example.com">
          </div>
          <div *ngIf="registerForm.get('email')?.invalid && (registerForm.get('email')?.dirty || registerForm.get('email')?.touched)" class="text-red-600 text-sm mt-2 flex items-center">
            <i class="fas fa-info-circle mr-2"></i>
            <span *ngIf="registerForm.get('email')?.errors?.['required']">Email is required</span>
            <span *ngIf="registerForm.get('email')?.errors?.['email']">Invalid email format</span>
          </div>
        </div>

        <!-- Password Field -->
        <div>
          <label for="password" class="block text-sm font-medium text-gray-700 mb-2">Password</label>
          <div class="relative">
            <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
              <i class="fas fa-lock text-gray-400"></i>
            </div>
            <input [type]="showPassword() ? 'text' : 'password'" id="password" formControlName="password" name="password"
                   class="input-field pl-12 pr-12 w-full border rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-indigo-500"
                   placeholder="••••••••">
            <button type="button"
                    class="absolute inset-y-0 right-0 pr-4 flex items-center text-gray-400 hover:text-gray-600 transition-colors"
                    (click)="togglePasswordVisibility()">
              <i [ngClass]="showPassword() ? 'fas fa-eye-slash' : 'fas fa-eye'"></i>
            </button>
          </div>
          <div *ngIf="registerForm.get('password')?.invalid && (registerForm.get('password')?.dirty || registerForm.get('password')?.touched)" class="text-red-600 text-sm mt-2 flex items-center">
            <i class="fas fa-info-circle mr-2"></i>
            <span *ngIf="registerForm.get('password')?.errors?.['required']">Password is required</span>
            <span *ngIf="registerForm.get('password')?.errors?.['minlength']">Password must be at least 6 characters</span>
            <span *ngIf="registerForm.get('password')?.errors?.['maxlength']">Password must be less than 20 characters</span>
          </div>
        </div>

        <!-- Submit Button -->
        <button type="submit"
                class="w-full btn-primary py-3 text-lg flex items-center justify-center group bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition"
                [disabled]="registerForm.invalid">
          <span class="mr-2">Create Account</span>
          <i class="fas fa-user-plus group-hover:translate-x-1 transition-transform duration-200"></i>
        </button>
      </form>

      <!-- Login Link -->
      <div class="text-center mt-8 pt-6 border-t border-gray-200">
        <p class="text-gray-600 text-sm">
          Already have an account?
          <a routerLink="/login" class="font-medium text-indigo-600 hover:text-indigo-800 transition-colors ml-1">
            Sign in
          </a>
        </p>
      </div>
    </div>
  </div>
</div>
